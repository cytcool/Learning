# Java面试题

### 谈谈对Java多态的理解

- 多态是指父类的某个方法被子类重写时，可以产生自己的功能行为，同一个操作作用于不同对象，可以有不同的解释，产生不同的执行结果

#### 多态的三个必要条件

- 继承父类
- 重写父类的方法
- 父类的引用指向子类对象

### 静态方法与静态成员变量可以被继承吗，为什么？

- 静态方法与静态成员变量可以被继承，但是不能被重写。它对子类隐藏，因此静态方法不能实现多态

### 为什么Java里的匿名内部类只能访问final修饰的外部变量？

- 因为匿名内部类最终会编译成一个单独的类，而被该类使用的变量会以构造函数参数的形式传递给该类，如果变量不定义成final的，变量在匿名内部类中可以被修改，进而造成和外部的变量不一致的问题，为了避免这种情况，Java规定匿名内部类只能访问final修饰的外部变量

### Java的编码方式？

#### 为什么需要编码

- 计算机存储信息的最小单位是一个字节即8bit，所以能表示的范围是0-255，这个范围无法保存所有的字符，所以需要一个新的数据结构char来表示这些字符，从char到byte需要编码

#### Java中需要编码的地方一般都在字符到字节的转换上，这个一般包括磁盘IO和网络IO

- Reader类是Java的I/O中读字符的父类，而InputStream类是读字节的父类，InputStreamReader类就是关联字节到字符的桥梁，它负责在I/O过程中处理读取字节到字符的转换，而具体字节到字符的解码实现它由StreamDecoder去实现，在StreamDecoder解码过程中必须由用户指定Charset编码格式

### 静态代理与动态代理区别是什么，分别用在什么样的场景里？

- 静态代理与动态代理区别在于代理类生成的时间不同，如果需要对多各类进行代理，并且代理的功能都是一样的，用静态代理重复编写代理类就非常的麻烦，可以用动态代理动态的生成代理类

### 描述一下Java的异常体系？

- 1、Error是程序无法处理的错误，比如OutOfMemoryError、ThreadDeath等。这些异常发生时，Java虚拟机(JVM)一般会选择线程终止
- 2、Exception是程序本身可以处理的异常，这种异常分两大类运行时异常和非运行时异常，程序中应当尽可能去处理这些异常。运行时异常都是RuntimeException类及其子类异常，如NullPointerException、IndexOutBoundException等，这些异常是不检查异常，程序中可以选择捕获处理，也可以不处理。这些异常一般是由程序逻辑错误引起的，程序应该从逻辑角度尽可能避免这类异常的发生

### 描述一个类的加载过程

#### Person person = new Person()

- 查找Person.class，并加载到内存中
- 执行类里的静态代码块
- 在堆内存里开辟内存空间，并分配内存地址
- 在堆内存里建立对象的属性，并进行默认的初始化
- 对属性进行显示初始化
- 对对象进行构造代码块初始化
- 调用对象的构造函数进行初始化
- 将对象的地址赋值给person变量

### Java对象的生命周期是什么

- 加载：将类的信息加载到JVM的方法区，然后在堆区中实例化一个java.lang.Class对象，作为方法区中这个类的信息入口
- 连接：验证；验证类是否合法。准备：为静态变量分配内存并设置JVM默认值，非静态变量不会分配内存。解析：将常量池的符号引用转换为直接引用
- 初始化：初始化类的静态赋值语句和静态代码块，主动引用会触发类的初始化，被动引用不会触发类的初始化
- 使用：执行类的初始化，主动引用会触发类的初始化，被动引用不会触发类的初始化
- 卸载：卸载过程就是清除堆里类的信息，以下情况会被卸载：①类的所有实例都已经被回收；②类的ClassLoader被回收；③类的Class对象没有被任何地方引用，无法再任何地方通过反射访问该类

